# DA ENTERPRICES LLC TEST ASSIGNMENT

Проект разработан в рамках тестового задания от компании **DA ENTERPRICES LLC**

## Описание проекта

REST API сервис для хранения файлов с аутентификацией через JWT токены. Основные возможности:

- Регистрация и аутентификация пользователей
- Загрузка и управление файлами
- Хранение метаданных файлов в MySQL
- JWT токены с refresh-механизмом
- Валидация всех входящих данных
- Пагинация списка файлов

## Технологии

- Node.js (Express)
- MySQL
- JWT аутентификация
- Docker
- Multer (обработка файлов)
- Joi (валидация)

## Установка и запуск

### 1. Требования

- Docker и Docker Compose
- Node.js (если запуск без Docker)

### 2. Настройка окружения

Создайте файл `.env` в корне проекта скопировав `.env.example` файл

### 3. Запуск через Docker

```bash
# Сборка и запуск контейнеров
docker-compose up --build -d

# Остановка
docker-compose down

# Просмотр логов
docker-compose logs -f app
```

### 4. Запуск без Docker

```bash
# Установка зависимостей
npm install

# Запуск MySQL (требуется установленный MySQL сервер)
# Настройте соединение в config/db.js

# Запуск приложения
npm start
```

## API Endpoints

### Аутентификация

- POST /auth/signup - Регистрация
- POST /auth/signin - Вход
- POST /auth/signin/new_token - Обновление токена
- GET /auth/info - Информация о пользователе
- GET /auth/logout - Выход

### Работа с файлами

- POST /files/upload - Загрузка файла
- GET /files/list - Список файлов
- GET /files/:id - Информация о файле
- GET /files/download/:id - Скачивание файла
- PUT /files/update/:id - Обновление файла
- DELETE /files/delete/:id - Удаление файла

## Структура проекта

```
src/
├── config/        - Конфигурационные файлы
├── controllers/   - Контроллеры
├── middlewares/   - Промежуточное ПО
├── models/        - Модели БД
├── repositories/  - Репозитории
├── routes/        - Маршруты
├── services/      - Бизнес-логика
├── storage/       - Хранилище файлов
├── validators/    - Схемы валидации
├── app.js         - Инициализация приложения
└── server.js      - Запуск сервера
```

## Возможные улучшения

### 1. Документация API (Swagger/OpenAPI)

**Проблема**: Отсутствие удобной документации для API.

**Решение**: Интеграция Swagger UI для автоматической генерации документации.

### 2. Написание тестов (Jest/Supertest)

**Проблема**: Отсутствие автоматических тестов.

**Решение**: Добавить модульные и интеграционные тесты.

### 3. Миграция на облачное хранилище (AWS S3 / MinIO)

**Проблема**: Локальное хранение файлов не масштабируется.

**Решение**: Интеграция с S3-совместимыми хранилищами.

### 4. Кеширование (Redis)

Кеширование метаданных файлов для ускорения API:

### 5. Логирование (Winston + ELK)

Структурированные логи для анализа ошибок.
